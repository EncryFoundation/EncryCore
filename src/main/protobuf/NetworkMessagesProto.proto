syntax = "proto3";
import "SyntaxMessageProto.proto";

message SyncInfoProtoMessage {
    repeated bytes lastHeaderIds = 1;
}

message InvSpecProtoMessage {
    bytes modifierTypeId = 1;
    repeated bytes modifiers = 2;
}

message RequestModifiersSpecMessageProto {
    bytes modifierTypeId = 1;
    repeated bytes modifiers = 2;
}

message ModifiersSpecMessageProto {
    bytes modifierTypeId = 1;
    MapToProto map = 2;
}

message GetPeersSpecMessageProto {
}

message PeersSpecMessageProto {

    repeated InetSocketAddressProtoMessage peers = 1;
}

message HandshakeProtoMessage {
    bytes protocolVersion = 1;
    string nodeName = 2;
    InetSocketAddressProtoMessage declaredAddress = 3;
    uint64 time = 4;
}

message NetworkMessageProto {

    oneof spec {
        SyncInfoProtoMessage syncInfoProtoMessage = 1;
        InvSpecProtoMessage invSpecProtoMessage = 2;
        RequestModifiersSpecMessageProto requestModifiersSpecMessageProto = 3;
        ModifiersSpecMessageProto modifiersSpecMessageProto = 4;
        GetPeersSpecMessageProto getPeersSpecMessageProto = 5;
        PeersSpecMessageProto peersSpecMessageProto = 6;
    }

    bytes magic = 8;
    bytes checksum = 7;
}